<div class="spinner" *ngIf="loading">
  <div class="double-bounce1"></div>
  <div class="double-bounce2"></div>
</div>

<div *ngIf="!loading">
  <div *ngIf="appointments">
    <div *ngFor="let weekDate of date2">
    
          <div class="ui centered grid">
            <div class="four column row">
              <div class="ui horizontal divider">
                <h3>{{weekDate}}</h3>
              </div>
            </div>
            <div class="four column row">
              <div class="fourteen wide column">
                <div class="ui stackable three cards" *ngFor="let item of appointments">
                  <div class="card" *ngIf="item.date == weekDate">
                    <!--<div *ngIf="item.date == weekDate">-->
                      <div class="content" >

                        <a><i (click)="appointmentAction(item.apid,item.uid,item.spid,item.date,item.time,item.device,'cancel')" 
                            class="large right floated red trash icon"></i></a>

                        <img class="ui right floated tiny image" src="{{item.imgurl}}">
                        <div class="header">
                            <span *ngIf="item.emergency == 'yes'">
                              <a class="ui red ribbon label" id="mon3">emergency</a>
                            </span>
                            <h3 id="mon3">{{item.username}}</h3>
                            <button class="ui tiny inverted blue button" [routerLink]="['/User_Requested_Appointment_Detail', item.apid]">
                              <i class="unordered list icon"></i>
                              View Appointment Details
                            </button>
                        </div>
                        <div class="meta">
                          <span style="margin:10px;" class="ui small olive tag label" id="mon3">{{item.time}}</span>
                          <span style="margin:10px;" class="ui small teal tag label" id="mon3">{{item.date}}</span>
                          <span *ngIf="item.state == 'completed'">
                          <span style="margin:10px;" class="ui small green tag label" id="mon3">{{item.state}}</span>
                          </span>
                        </div>

                        <div class="description">
                          <table class="ui small definition unstackable table">
                            <tr>
                              <td class="active" id="mon3"><b>Phone</b></td>
                              <td id="mon3">{{item.phone}}</td>
                            </tr>

                            <tr>
                              <td class="active" id="mon3"><b>Address</b></td>
                              <td id="mon3">{{item.address}}</td>
                            </tr>

                            <tr>
                              <td class="active" id="mon3"><b>Device</b></td>
                              <td id="mon3">{{item.device}}</td>
                            </tr>

                          </table>
                        </div>
                      </div>
                      <div class="extra content">
                        <div class="ui teal small button" id="mon3"><i class="phone icon"></i><a href="tel:{{item.phone}}">Call to cancel</a></div>
                      </div>
                  <!--</div>-->
                  </div>
                </div>
              </div>
            </div>
          </div>
       
    </div>
  </div>


  <!--<div *ngIf="appointments.length <= 0">
    <div class="ui centered container">
      <div class="ui page stackable column grid">
        <div class="row"></div>
        <div class="row"></div>
        <div class="row"></div>
        <div class="row">
          <div class="column">
            <div class="ui center aligned floating message">
              <p id="mon3">No Appointments</p>
            </div>
          </div>
        </div>
      </div>
    </div>-->
  </div>